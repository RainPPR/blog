{#-
  This file was automatically generated - do not edit
-#}
{% if "material/tags" in config.plugins and tags %}
  {% include "partials/tags.html" %}
{% endif %}
{% include "partials/actions.html" %}
{% if "\x3ch1" not in page.content %}
  <h1>{{ page.title | d(config.site_name, true)}}</h1>
{% endif %}
{{ page.content }}
{% include "partials/source-file.html" %}
{% include "partials/feedback.html" %}
{% include "partials/comments.html" %}


<script>
  //window.onload = function () {
    var cur = document.getElementsByClassName('page-time')[0]
    if (cur) {
      var comments = document.getElementById('gitment_container');
      var pos = 0;
      if (comments) {
        pos -= comments.textContent.length;
      }
      comments = document.getElementById('__comments');
      if (comments) {
        pos -= comments.textContent.length;
      }
      var textLength = 0;
      if (pos < 0) textLength = (document.getElementsByClassName('md-content__inner')[0].textContent.slice(0, pos).replace(/\s/g, '').length - document.getElementsByTagName('h1')[0].textContent.replace(/\s/g, '').length - document.getElementsByClassName('page-copyright')[0].textContent.replace(/\s/g, '').length - 4);
      else textLength = (document.getElementsByClassName('md-content__inner')[0].textContent.replace(/\s/g, '').length - document.getElementsByTagName('h1')[0].textContent.replace(/\s/g, '').length - document.getElementsByClassName('page-copyright')[0].textContent.replace(/\s/g, '').length - 4);
      if (textLength <= 0) cur.innerHTML = `<p>本页面还在建设中，欢迎参与完善！</p>`;
    }
  
    document.getElementsByTagName("html")[0].lang = "zh-Hans"; // change language to `zh-Hans` for Han.js.
  
    // var url = document.getElementsByClassName('page_edit_url')[0].href.split('?ref=')[1];
    var url = document.getElementsByClassName('page_edit_url')[0].href.split('docs')[1];
    // var url = document.URL.replace(/http\S+\.org\//gi, '').replace(/#\S+$/gi, '').slice(0, -1);
    var script = document.createElement('script');
  
    console.log(url);
  
    if (typeof (url) != 'undefined') {
      console.log("WOW1");
      document.getElementsByClassName('edit_history')[0].setAttribute('href', `https://github.com/RainPPR/blog/commits/main/docs${url}`);
      script.src = `https://api.github.com/repos/RainPPR/blog/commits?path=docs${url}&callback=foo`;
      document.getElementsByTagName('head')[0].appendChild(script);
    } else {
      console.log("ERROR1");
      document.getElementsByClassName('edit_history')[0].setAttribute('href', `https://github.com/RainPPR/blog/commits/main`);
      document.getElementsByClassName('facts_modified')[0].innerHTML = ('最近没更新过这个页面');
      document.getElementsByClassName('page_contributors')[0].innerHTML = ('本页面是自动生成的');
      document.getElementsByClassName('page_edit_url')[0].setAttribute('href', `#`);
    }
  //};
</script>